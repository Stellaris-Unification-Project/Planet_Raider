namespace = raidresource

#Defender GET RAIDED###
country_event = {
	id = raidresource.9
	title = raidresource.9.name
	desc = {
		trigger = {
			hidden:root = {
				text = "raidresource.9.desc"
				text = "newline"
				success_text = {
					text = "raidresource.9.tooltip_energy"
					NOT = {
						fromfromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_energy" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.9.tooltip_minerals"
					NOT = {
						fromfromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_minerals" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.9.tooltip_food"
					NOT = {
						fromfromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_food" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.9.tooltip_goods"
					NOT = {
						fromfromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_goods" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.9.tooltip_alloys"
					NOT = {
						fromfromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_alloys" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.9.tooltip_volatile_motes"
					NOT = {
						fromfromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_volatile_motes" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.9.tooltip_rare_crystals"
					NOT = {
						fromfromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_rare_crystals" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.9.tooltip_exotic_gases"
					NOT = {
						fromfromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_exotic_gases" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.9.tooltip_living_metal"
					NOT = {
						fromfromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_living_metal" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.9.tooltip_zro"
					NOT = {
						fromfromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_zro" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.9.tooltip_dark_matter"
					NOT = {
						fromfromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_dark_matter" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.9.tooltip_nanites"
					NOT = {
						fromfromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_nanites" value = 0 }
						}
					}
				}
				success_text = {
					text = "newline"
					fromfromfrom = {
						check_variable = { which = "raidresource_raid_mulitifier_losses_pop" value > 0 }
					}
				}
				success_text = {
					text = "raidresource.9.tooltip_pop"
					fromfromfrom = {
						check_variable = { which = "raidresource_raid_mulitifier_losses_pop" value = 1 }
					}
				}
				success_text = {
					text = "raidresource.9.tooltip_pops"
					fromfromfrom = {
						check_variable = { which = "raidresource_raid_mulitifier_losses_pop" value > 1 }
					}
				}
			}
		}
	}
	picture = GFX_evt_night_raid
	show_sound = event_ground_battle
	location = fromfromfrom
	auto_opens = no
	is_triggered_only = yes

	trigger = {
	}	
	
	immediate = {
#		add_opinion_modifier = {
#			who = from
#			modifier = opinion_raidresources_2
#		}
	}
	
	option = {
		name = raidresource.9.a
		trigger = {
			NOT = {
				has_valid_civic = "civic_fanatic_purifiers"
				has_ethic = "ethic_gestalt_consciousness"	
			}
		}
	}
	option = {
		name = raidresource.9.b
		trigger = {
			OR = {
				AND = {
					has_valid_civic = "civic_fanatic_purifiers"
					is_same_species = FROM
				}
				has_ethic = "ethic_gestalt_consciousness"		
			}
		}
	}
	option = {
		name = raidresource.9.c
		trigger = {
			has_valid_civic = "civic_fanatic_purifiers"
			NOT = { is_same_species = FROM }
		}
		add_monthly_resource_mult = {
			resource = unity
			value = 3
			min = 40
			max = 125
		}
	}
}
###RAIDER GET RESOURCE###
# Triggers country_event for the attacker upon victory
country_event = {
	id = raidresource.10
	title = raidresource.10.name
	desc = {
		trigger = {
			hidden:root = {
				success_text = {
					text = "raidresource.10.desc"
					NOT = {
						has_policy_flag = policy_raidresource_honor
						from = {
							is_country = primitive
						}
					}
				}
				success_text = {
					text = "raidresource.10.desc_primate"
					NOT = {
						has_policy_flag = policy_raidresource_honor
					}
					from = {
						is_country = primitive
					}
				}
				success_text = {
					text = "newline"
					NOT = {
						has_policy_flag = policy_raidresource_honor
						
					}
				}
				success_text = {
					text = "raidresource.10.desc_honor"
					has_policy_flag = policy_raidresource_honor
				}
				success_text = {
					text = "raidresource.tooltip_energy"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_energy" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_minerals"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_minerals" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_food"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_food" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_goods"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_goods" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_alloys"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_alloys" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_volatile_motes"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_volatile_motes" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_rare_crystals"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_rare_crystals" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_exotic_gases"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_exotic_gases" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_living_metal"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_living_metal" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_zro"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_zro" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_dark_matter"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_dark_matter" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_nanites"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_nanites" value = 0 }
						}
					}
				}
				success_text = {
					text = "newline"
					fromfrom = {
						OR = {
							check_variable = { which = "raidresource_raid_mulitifier_phy_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_soc_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_eng_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_unity" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_influence" value > 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.10.research"
					fromfrom = {
						OR = {
							check_variable = { which = "raidresource_raid_mulitifier_phy_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_soc_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_eng_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_unity" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_influence" value > 0 }
						}
					}
				}
				success_text = {
					text = "newline"
					fromfrom = {
						OR = {
							check_variable = { which = "raidresource_raid_mulitifier_phy_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_soc_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_eng_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_unity" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_influence" value > 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_phy_research"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_phy_research" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_soc_research"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_soc_research" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_eng_research"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_eng_research" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_influence"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_influence" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_unity"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_unity" value = 0 }
						}
					}
				}
				success_text = {
					text = "newline"
					fromfrom = {
						check_variable = { which = "raidresource_raid_mulitifier_losses_pop" value > 0 }
					}
				}
				success_text = {
					text = "raidresource.tooltip_pop"
					fromfrom = {
						check_variable = { which = "raidresource_raid_mulitifier_losses_pop" value = 1 }
					}
				}
				success_text = {
					text = "raidresource.tooltip_pops"
					fromfrom = {
						check_variable = { which = "raidresource_raid_mulitifier_losses_pop" value > 1 }
					}
				}
			}
		}
	}
	picture = GFX_evt_night_raid
	show_sound = event_ground_battle
	location = fromfrom
	auto_opens = no
	
	is_triggered_only = yes

	trigger = {
		OR = {
			has_policy_flag = policy_raidresource_light
			has_policy_flag = policy_raidresource_heavy
			has_policy_flag = policy_raidresource_honor
		}
		NOT = { has_policy_flag = policy_raidresource_outlaw }
		FROM = {
			is_at_war_with = root
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
				is_country_type = fallen_empire
				is_country_type = primitive
			}
		}
		FROMFROM = {
			NOT = {
				is_owned_by = root
				root = {
					is_same_empire = from
				}
				OR = {
					has_modifier = raidresource_planet_get_raided
					has_modifier = raidresource_planet_get_raided_heavy
				}
			}
		}
	}
	
	immediate = {
		root = {
			save_event_target_as = raidresource_raid_empire_attacker
		}
		from = {
			save_event_target_as = raidresource_raid_empire_get_raideder
		}
		fromfrom = {
			save_event_target_as = raidresource_raid_empire_get_raided_planet
			set_variable = { which = "raidresource_raid_mulitifier_losses_pop" value = 0 }
			set_variable = { which = raidresource_raid_mulitifier_planet_pops value = 0 }
###PRESET FOR PLANET YOU RAIDED###
			set_variable = { which = "raidresource_raid_mulitifier_food" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_energy" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_minerals" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_goods" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_alloys" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_phy_research" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_soc_research" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_eng_research" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_unity" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_influence" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_volatile_motes" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_exotic_gases" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_rare_crystals" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_living_metal" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_zro" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_dark_matter" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_nanites" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_value" value = 0.1 }
			
			while = {
				limit = {
					event_target:raidresource_raid_empire_attacker = {
						is_galactic_community_member = yes
						is_active_resolution = resolution_rer_barbarous_plunder
					}
				}
				count = 1
				check_raided_planet_pop_count = yes
				if = {
					limit = {
						root = {
							NOT = {
								has_policy_flag = policy_raidresource_honor
							}
						}
					}
					check_raided_planet_buildings = yes
				}
				check_raided_planet_pop_count_with_jobs = yes
				every_owned_pop = {
					if = {
						limit = {
							root = {
								NOT = {
									has_policy_flag = policy_raidresource_honor
								}
								
							}
						}
						check_raided_planet_worker_jobs = yes
						check_raided_planet_specialist_jobs = yes
						check_raided_planet_ruler_jobs = yes
						check_raided_planet_gestalt_jobs = yes
						check_raided_planet_fe_jobs = yes
						check_raided_planet_other_jobs = yes
					}
				}
			}
			check_raided_planet_pop_count = yes
###FE BUILDINGS LOL###
			if = {
				limit = {
					root = {
						NOT = {
							has_policy_flag = policy_raidresource_honor
						}
					}
				}
				check_raided_planet_buildings = yes
			}
			check_raided_planet_pop_count_with_jobs = yes
			every_owned_pop = {
				if = {
					limit = {
						root = {
							NOT = {
								has_policy_flag = policy_raidresource_honor
							}
							
						}
					}
					check_raided_planet_worker_jobs = yes
					check_raided_planet_specialist_jobs = yes
					check_raided_planet_ruler_jobs = yes
					check_raided_planet_gestalt_jobs = yes
					check_raided_planet_fe_jobs = yes
					check_raided_planet_other_jobs = yes
				}
			}
			while = {
				limit = {
					event_target:raidresource_raid_empire_attacker = {
						is_galactic_community_member = yes
						is_active_resolution = resolution_rer_honor_before_reason
					}
				}
				count = 2
				every_owned_pop = {
					if = {
						limit = {
							root = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						check_raided_planet_honor_jobs = yes
					}
				}
			}
			every_owned_pop = {
				if = {
					limit = {
						root = {
							has_policy_flag = policy_raidresource_honor
						}
					}
					check_raided_planet_honor_jobs = yes
				}
			}
			if = {
				limit = {
					root = {
						has_technology = tech_rer_raid_1
						NOT = {
							has_technology = tech_rer_raid_2
						}
					}
				}
				multiply_variable = {
					which = raidresource_raid_mulitifier_planet_pops
					value = 2
				}
			}
			if = {
				limit = {
					root = {
						has_technology = tech_rer_raid_1
						has_technology = tech_rer_raid_2
					}
				}
				multiply_variable = {
					which = raidresource_raid_mulitifier_planet_pops
					value = 4
				}
			}
			while = {
				count = raidresource_raid_mulitifier_planet_pops
				random_list = {
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raideder = {
								has_country_resource = { type = volatile_motes amount < 5 }
							}	
						}
						modifier = {
							factor = 3
							event_target:raidresource_raid_empire_attacker = {
								OR = {
									has_ascension_perk = ap_nihilistic_acquisition
									has_valid_civic = civic_barbaric_despoilers
								}
							}	
						}
						if = {
							limit = {
								event_target:raidresource_raid_empire_get_raideder = {
									has_country_resource = { type = volatile_motes amount > 5 }
								}
							}
							event_target:raidresource_raid_empire_get_raided_planet = {
								change_variable = { which = "raidresource_raid_mulitifier_volatile_motes" value = 5 }
								change_variable = { which = "raidresource_raid_mulitifier_value" value = 25 }
							}
							event_target:raidresource_raid_empire_attacker = {
								add_resource = { volatile_motes = 5 }
							}
							event_target:raidresource_raid_empire_get_raideder = {
								add_resource = { volatile_motes = -5 }
							}
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raideder = {
								has_country_resource = { type = exotic_gases amount < 5 }
							}	
						}
						modifier = {
							factor = 3
							event_target:raidresource_raid_empire_attacker = {
								OR = {
									has_ascension_perk = ap_nihilistic_acquisition
									has_valid_civic = civic_barbaric_despoilers
								}
							}	
						}
						if = {
							limit = {
								event_target:raidresource_raid_empire_get_raideder = {
									has_country_resource = { type = exotic_gases amount > 5 }
								}
							}
							event_target:raidresource_raid_empire_get_raided_planet = {
								change_variable = { which = "raidresource_raid_mulitifier_exotic_gases" value = 5 }
								change_variable = { which = "raidresource_raid_mulitifier_value" value = 25 }
							}
							event_target:raidresource_raid_empire_attacker = {
								add_resource = { exotic_gases = 5 }
							}
							event_target:raidresource_raid_empire_get_raideder = {
								add_resource = { exotic_gases = -5 }
							}
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raideder = {
								has_country_resource = { type = rare_crystals amount < 5 }
							}	
						}
						modifier = {
							factor = 3
							event_target:raidresource_raid_empire_attacker = {
								OR = {
									has_ascension_perk = ap_nihilistic_acquisition
									has_valid_civic = civic_barbaric_despoilers
								}
							}	
						}
						if = {
							limit = {
								event_target:raidresource_raid_empire_get_raideder = {
									has_country_resource = { type = rare_crystals amount > 5 }
								}
							}
							event_target:raidresource_raid_empire_get_raided_planet = {
								change_variable = { which = "raidresource_raid_mulitifier_rare_crystals" value = 5 }
								change_variable = { which = "raidresource_raid_mulitifier_value" value = 25 }
							}
							event_target:raidresource_raid_empire_attacker = {
								add_resource = { rare_crystals = 5 }
							}
							event_target:raidresource_raid_empire_get_raideder = {
								add_resource = { rare_crystals = -5 }
							}
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raideder = {
								has_country_resource = { type = sr_living_metal amount < 5 }
							}	
						}
						modifier = {
							factor = 3
							event_target:raidresource_raid_empire_attacker = {
								OR = {
									has_ascension_perk = ap_nihilistic_acquisition
									has_valid_civic = civic_barbaric_despoilers
								}
							}	
						}
						if = {
							limit = {
								event_target:raidresource_raid_empire_get_raideder = {
									has_country_resource = { type = sr_living_metal amount > 5 }
								}
							}
							event_target:raidresource_raid_empire_get_raided_planet = {
								change_variable = { which = "raidresource_raid_mulitifier_living_metal" value = 5 }
								change_variable = { which = "raidresource_raid_mulitifier_value" value = 60 }
							}
							event_target:raidresource_raid_empire_attacker = {
								add_resource = { sr_living_metal = 5 }
							}
							event_target:raidresource_raid_empire_get_raideder = {
								add_resource = { sr_living_metal = -5 }
							}
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raideder = {
								has_country_resource = { type = sr_zro amount < 5 }
							}	
						}
						modifier = {
							factor = 3
							event_target:raidresource_raid_empire_attacker = {
								OR = {
									has_ascension_perk = ap_nihilistic_acquisition
									has_valid_civic = civic_barbaric_despoilers
								}
							}	
						}
						if = {
							limit = {
								event_target:raidresource_raid_empire_get_raideder = {
									has_country_resource = { type = sr_zro amount > 5 }
								}
							}
							event_target:raidresource_raid_empire_get_raided_planet = {
								change_variable = { which = "raidresource_raid_mulitifier_zro" value = 5 }
								change_variable = { which = "raidresource_raid_mulitifier_value" value = 60 }
							}
							event_target:raidresource_raid_empire_attacker = {
								add_resource = { sr_zro = 5 }
							}
							event_target:raidresource_raid_empire_get_raideder = {
								add_resource = { sr_zro = -5 }
							}
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raideder = {
								has_country_resource = { type = sr_dark_matter amount < 5 }
							}	
						}
						modifier = {
							factor = 3
							event_target:raidresource_raid_empire_attacker = {
								OR = {
									has_ascension_perk = ap_nihilistic_acquisition
									has_valid_civic = civic_barbaric_despoilers
								}
							}	
						}
						if = {
							limit = {
								event_target:raidresource_raid_empire_get_raideder = {
									has_country_resource = { type = sr_dark_matter amount > 5 }
								}
							}
							event_target:raidresource_raid_empire_get_raided_planet = {
								change_variable = { which = "raidresource_raid_mulitifier_dark_matter" value = 5 }
								change_variable = { which = "raidresource_raid_mulitifier_value" value = 60 }
							}
							event_target:raidresource_raid_empire_attacker = {
								add_resource = { sr_dark_matter = 5 }
							}
							event_target:raidresource_raid_empire_get_raideder = {
								add_resource = { sr_dark_matter = -5 }
							}
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raideder = {
								has_country_resource = { type = nanites amount < 5 }
							}	
						}
						modifier = {
							factor = 3
							event_target:raidresource_raid_empire_attacker = {
								OR = {
									has_ascension_perk = ap_nihilistic_acquisition
									has_valid_civic = civic_barbaric_despoilers
								}
							}	
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_nanites" value = 5 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 30 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_resource = { nanites = 5 }
						}
						event_target:raidresource_raid_empire_get_raideder = {
							add_resource = { nanites = -5 }
						}
					}
					10 = { 
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						if = {
							limit = {
								event_target:raidresource_raid_empire_get_raideder = {
									has_country_resource = { type = energy amount > 15 }
								}
							}
							event_target:raidresource_raid_empire_get_raided_planet = {
								change_variable = { which = "raidresource_raid_mulitifier_energy" value = 15 }
								change_variable = { which = "raidresource_raid_mulitifier_value" value = 15 }
							}
							event_target:raidresource_raid_empire_attacker = {
								add_resource = { energy = 15 }
							}
							event_target:raidresource_raid_empire_get_raideder = {
								add_resource = { energy = -15 }
							}
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						if = {
							limit = {
								event_target:raidresource_raid_empire_get_raideder = {
									has_country_resource = { type = minerals amount > 15 }
								}
							}
							event_target:raidresource_raid_empire_get_raided_planet = {
								change_variable = { which = "raidresource_raid_mulitifier_minerals" value = 15 }
								change_variable = { which = "raidresource_raid_mulitifier_value" value = 15 }
							}
							event_target:raidresource_raid_empire_attacker = {
								add_resource = { minerals = 15 }
							}
							event_target:raidresource_raid_empire_get_raideder = {
								add_resource = { minerals = -15 }
							}
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							root = {
								AND = {
									has_authority = auth_machine_intelligence
									NOR = {
										has_civic = civic_machine_servitor
										has_civic = civic_machine_assimilator
									}
								}
							}
						}
						if = {
							limit = {
								event_target:raidresource_raid_empire_get_raideder = {
									has_country_resource = { type = food amount > 15 }
								}
							}
							event_target:raidresource_raid_empire_get_raided_planet = {
								change_variable = { which = "raidresource_raid_mulitifier_food" value = 15 }
								change_variable = { which = "raidresource_raid_mulitifier_value" value = 15 }
							}
							event_target:raidresource_raid_empire_attacker = {
								add_resource = { food = 15 }
							}
							event_target:raidresource_raid_empire_get_raideder = {
								add_resource = { food = -15 }
							}
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							root = {
								AND = {
									has_ethic = ethic_gestalt_consciousness
									NOT = {
										has_civic = civic_machine_servitor
									}
								}
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 10
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raideder = {
								has_country_resource = { type = consumer_goods amount < 8 }
							}	
						}
						modifier = {
							factor = 3
							event_target:raidresource_raid_empire_attacker = {
								OR = {
									has_ascension_perk = ap_nihilistic_acquisition
									has_valid_civic = civic_barbaric_despoilers
								}
							}	
						}
						if = {
							limit = {
								event_target:raidresource_raid_empire_get_raideder = {
									has_country_resource = { type = consumer_goods amount > 8 }
								}
							}
							event_target:raidresource_raid_empire_get_raided_planet = {
								change_variable = { which = "raidresource_raid_mulitifier_goods" value = 8 }
								change_variable = { which = "raidresource_raid_mulitifier_value" value = 16 }
							}
							event_target:raidresource_raid_empire_attacker = {
								add_resource = { consumer_goods = 8 }
							}
							event_target:raidresource_raid_empire_get_raideder = {
								add_resource = { consumer_goods = -8 }
							}
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 10
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raideder = {
								has_country_resource = { type = alloys amount < 6 }
							}	
						}
						modifier = {
							factor = 3
							event_target:raidresource_raid_empire_attacker = {
								OR = {
									has_ascension_perk = ap_nihilistic_acquisition
									has_valid_civic = civic_barbaric_despoilers
								}
							}	
						}
						if = {
							limit = {
								event_target:raidresource_raid_empire_get_raideder = {
									has_country_resource = { type = alloys amount > 6 }
								}
							}
							event_target:raidresource_raid_empire_get_raided_planet = {
								change_variable = { which = "raidresource_raid_mulitifier_alloys" value = 6 }
								change_variable = { which = "raidresource_raid_mulitifier_value" value = 15 }
							}
							event_target:raidresource_raid_empire_attacker = {
								add_resource = { alloys = 6 }
							}
							event_target:raidresource_raid_empire_get_raideder = {
								add_resource = { alloys = -6 }
							}
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 10
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_phy_research" value = 26 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 13 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_monthly_resource_mult = {
								resource = physics_research
								value = 1
								min = 26
								max = 26
							}
						}
					}
					10 = { 
					
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 10
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_soc_research" value = 26 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 13 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_monthly_resource_mult = {
								resource = society_research
								value = 1
								min = 26
								max = 26
							}
						}
					}
					10 = { 
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 10
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_eng_research" value = 26 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 13 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_monthly_resource_mult = {
								resource = engineering_research
								value = 1
								min = 26
								max = 26
							}
						}
					}
					10 = { 
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 10
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_unity" value = 18 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 9 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_resource = { unity = 18 }
						}
					}
					10 = { 
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								NOT = {
									has_policy_flag = policy_raidresource_honor
								}
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 50
							}
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_influence" value = 2 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 10 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_resource = { influence = 2 }
						}
					}
				}
			}
			if = {
				limit = {
					root = {
						has_policy_flag = policy_raidresource_light
					}
				}
				add_modifier = {
					modifier = "raidresource_planet_get_raided"
					days = 3600
				}
				
				event_target:raidresource_raid_empire_get_raideder = {
					country_event = { id = raidresource.9 }
					if = {
						limit = {
							NOT = {
								is_active_resolution = resolution_rer_minimal_snatches
							}
						}
						add_opinion_modifier = { who = ROOT modifier = opinion_raidresources_2 }
					}
				}
			}
			if = {
				limit = {
					root = {
						has_policy_flag = policy_raidresource_honor
					}
				}
				add_modifier = {
					modifier = "raidresource_planet_get_raided"
					days = 3600
				}
				
				event_target:raidresource_raid_empire_get_raideder = {
					country_event = { id = raidresource.11 }
				}
			}
			if = {
				limit = {
					root = {
						has_policy_flag = policy_raidresource_heavy
					}
				}
				add_modifier = {
					modifier = "raidresource_planet_get_raided_heavy"
					days = 5400
				}
				if = {
					limit = {
						num_pops > 10
					}
					if = {
						limit = {
							num_pops < 14
						}
						add_modifier = {
							modifier = "raidresource_planet_get_raided_building_slot_lose_lv1"
							days = 3
						}
					}
					else_if = {
						limit = {
							num_pops > 15
							num_pops < 19
						}
						add_modifier = {
							modifier = "raidresource_planet_get_raided_building_slot_lose_lv2"
							days = 3
						}
					}
					else_if = {
						limit = {
							num_pops > 20
							num_pops < 24
						}
						add_modifier = {
							modifier = "raidresource_planet_get_raided_building_slot_lose_lv3"
							days = 3
						}
					}
					else_if = {
						limit = {
							num_pops > 25
							num_pops < 29
						}
						add_modifier = {
							modifier = "raidresource_planet_get_raided_building_slot_lose_lv4"
							days = 3
						}
					}
					else_if = {
						limit = {
							num_pops > 30
							num_pops < 34
						}
						add_modifier = {
							modifier = "raidresource_planet_get_raided_building_slot_lose_lv5"
							days = 3
						}
					}
					else_if = {
						limit = {
							num_pops > 35
							num_pops < 39
						}
						add_modifier = {
							modifier = "raidresource_planet_get_raided_building_slot_lose_lv6"
							days = 3
						}
					}
					else_if = {
						limit = {
							num_pops > 40
							num_pops < 44
						}
						add_modifier = {
							modifier = "raidresource_planet_get_raided_building_slot_lose_lv7"
							days = 3
						}
					}
					else_if = {
						limit = {
							num_pops > 45
							num_pops < 49
						}
						add_modifier = {
							modifier = "raidresource_planet_get_raided_building_slot_lose_lv8"
							days = 3
						}
					}
					else_if = {
						limit = {
							num_pops > 50
							num_pops < 54
						}
						add_modifier = {
							modifier = "raidresource_planet_get_raided_building_slot_lose_lv9"
							days = 3
						}
					}
					else_if = {
						limit = {
							num_pops > 55
						}
						add_modifier = {
							modifier = "raidresource_planet_get_raided_building_slot_lose_lv10"
							days = 3
						}
					}
				}
				while = {
					count = 100
					limit = {
						num_pops > 1
					}
					random_list = {
						95 = {}
						5 = {
                            modifier = {
								factor = 2
								event_target:raidresource_raid_empire_attacker = {
									OR = {
										has_valid_civic = civic_fanatic_purifiers
										has_valid_civic = civic_hive_devouring_swarm
										has_valid_civic = civic_machine_terminator
									}
								}
							}
							modifier = {
								factor = 0.5
								num_pops < 25
							}
							modifier = {
								factor = 0.25
								num_pops < 10
							}
							modifier = {
								factor = 1.25
								num_pops > 50
							}
							modifier = {
								factor = 1.5
								num_pops > 99
							}
							modifier = {
								factor = 2
								num_pops > 124
							}
							modifier = {
								factor = 2.5
								num_pops > 149
							}
							modifier = {
								factor = 2.75
								num_pops > 174
							}
							modifier = {
								factor = 3
								num_pops > 199
							}
							random_owned_pop = {
								kill_pop = yes
							}
							fromfrom = {
								change_variable = { which = "raidresource_raid_mulitifier_losses_pop" value = 1 }
							}
							if = {
								limit = {
									prev = {
										NOT = {
											OR = {
												has_valid_civic = civic_fanatic_purifiers
												has_valid_civic = civic_hive_devouring_swarm
												has_valid_civic = civic_machine_terminator
												has_valid_civic = civic_criminal_heritage
											}									
										}
									}
								}
								root = {
									country_event = { id = raidresource.12 }
								}
							}
							if = {
								limit = {
									root = {
										OR = {
											has_valid_civic = civic_fanatic_purifiers
											has_valid_civic = civic_hive_devouring_swarm
											has_valid_civic = civic_machine_terminator
										}
									}
								}
								if = {
									limit = {
										root = {
											has_valid_civic = civic_fanatic_purifiers
										}
									}
									root = {
										add_monthly_resource_mult = {
											resource = unity
											value = 1
											min = 200
											max = 200
										}
									}
								}
								if = {
									limit = {
										root = {
											has_valid_civic = civic_hive_devouring_swarm
										}
									}
									root = {
										add_monthly_resource_mult = {
											resource = society_research
											value = 1
											min = 200
											max = 200
										}
									}
								}
								if = {
									limit = {
										root = {
											has_valid_civic = civic_machine_terminator
										}
									}
									root = {
										add_monthly_resource_mult = {
											resource = unity
											value = 1
											min = 200
											max = 200
										}
									}
								}
							}
						}
					}
				}
				event_target:raidresource_raid_empire_get_raideder = {
					country_event = { id = raidresource.9 }
					add_opinion_modifier = { who = ROOT modifier = opinion_raidresources_2 }
				}
			}
		}
	}
	option = {
		name = GOOD
		trigger = {
			NOR = {
				has_ethic = ethic_gestalt_consciousness
				has_valid_civic = civic_barbaric_despoilers
			}
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 1200 }
			}
		}
	}
	
	option = {
		name = raidresource.10.a
		trigger = {
			OR = {
				NOR = {
					has_ethic = ethic_gestalt_consciousness
					has_valid_civic = civic_fanatic_purifiers
					has_valid_civic = civic_barbaric_despoilers
					has_valid_civic = civic_warrior_culture
				}
				AND = {
					has_valid_civic = civic_fanatic_purifiers
					event_target:raidresource_raid_empire_get_raideder = {
						is_same_species = root
					}
				}
			}
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 1200 }
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 2500 }
			}
		}
	}
	
	option = {
		name = raidresource.10.b
		trigger = {
			OR = {
				NOR = {
					has_ethic = ethic_gestalt_consciousness
					has_valid_civic = civic_fanatic_purifiers
					has_valid_civic = civic_barbaric_despoilers
					has_valid_civic = civic_warrior_culture
				}
				AND = {
					has_valid_civic = civic_fanatic_purifiers
					event_target:raidresource_raid_empire_get_raideder = {
						is_same_species = root
					}
				}
			}
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 2500 }
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 6000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.c
		trigger = {
			OR = {
				NOR = {
					has_ethic = ethic_gestalt_consciousness
					has_valid_civic = civic_fanatic_purifiers
					has_valid_civic = civic_barbaric_despoilers
					has_valid_civic = civic_warrior_culture
					has_valid_civic = civic_imperial_cult
				}
				AND = {
					has_valid_civic = civic_fanatic_purifiers
					event_target:raidresource_raid_empire_get_raideder = {
						is_same_species = root
					}
				}
			}
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 6000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.c_emperor
		trigger = {
			has_valid_civic = civic_imperial_cult
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 6000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.a_fp
		trigger = {
			has_valid_civic = civic_fanatic_purifiers
			NOT = {
				event_target:raidresource_raid_empire_get_raideder = {
					is_same_species = root
				}
			}
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 1200 }
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 2500 }
			}
		}
	}
	
	option = {
		name = raidresource.10.b_fp
		trigger = {
			has_valid_civic = civic_fanatic_purifiers
			NOT = {
				event_target:raidresource_raid_empire_get_raideder = {
					is_same_species = root
				}
			}
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 2500 }
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 6000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.c_fp
		trigger = {
			has_valid_civic = civic_fanatic_purifiers
			NOT = {
				event_target:raidresource_raid_empire_get_raideder = {
					is_same_species = root
				}
			}
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 6000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.a_warrior
		trigger = {
			has_valid_civic = civic_warrior_culture
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 1200 }
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 2500 }
			}
		}
	}
	
	option = {
		name = raidresource.10.b_warrior
		trigger = {
			has_valid_civic = civic_warrior_culture
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 2500 }
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 6000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.c_warrior
		trigger = {
			has_valid_civic = civic_warrior_culture
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 6000 }
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 10000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.meme_warrior
		trigger = {
			has_valid_civic = civic_warrior_culture
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 10000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.meme_bs
		trigger = {
			has_valid_civic = civic_barbaric_despoilers
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 500 }
			}
		}
	}
	
	option = {
		name = raidresource.10.a_bs
		trigger = {
			has_valid_civic = civic_barbaric_despoilers
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 500 }
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 2500 }
			}
		}
	}
	
	option = {
		name = raidresource.10.b_bs
		trigger = {
			has_valid_civic = civic_barbaric_despoilers
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 2500 }
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 6000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.c_bs
		trigger = {
			has_valid_civic = civic_barbaric_despoilers
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 6000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.meme_machine
		trigger = {
			has_authority = auth_machine_intelligence
			NOT = { has_valid_civic = civic_hive_devouring_swarm }
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 500 }
			}
		}
	}
	
	option = {
		name = raidresource.10.meme_hive
		trigger = {
			has_authority = auth_hive_mind
			NOT = { has_valid_civic = civic_hive_devouring_swarm }
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 500 }
			}
		}
	}
	
	option = {
		name = raidresource.10.a_machine
		trigger = {
			OR = {
				has_authority = auth_machine_intelligence
				has_authority = auth_hive_mind
			}
			NOT = { has_valid_civic = civic_hive_devouring_swarm }
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 500 }
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 2500 }
			}
		}
	}
	
	option = {
		name = raidresource.10.b_machine
		trigger = {
			OR = {
				has_authority = auth_machine_intelligence
				has_authority = auth_hive_mind
			}
			NOT = { has_valid_civic = civic_hive_devouring_swarm }
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 2500 }
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 6000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.c_machine
		trigger = {
			has_authority = auth_machine_intelligence
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 6000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.c_hive
		trigger = {
			has_authority = auth_hive_mind
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 6000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.a_ds
		trigger = {
			has_valid_civic = civic_hive_devouring_swarm
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 2500 }
			}
		}
	}
	
	option = {
		name = raidresource.10.b_ds
		trigger = {
			has_valid_civic = civic_hive_devouring_swarm
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 2500 }
				check_variable = { which = "raidresource_raid_mulitifier_value" value < 6000 }
			}
		}
	}
	
	option = {
		name = raidresource.10.c_ds
		trigger = {
			has_valid_civic = civic_hive_devouring_swarm
			event_target:raidresource_raid_empire_get_raided_planet = {
				check_variable = { which = "raidresource_raid_mulitifier_value" value > 6000 }
			}
		}
	}
}

###RAIDER OPINION###
country_event = {
	id = raidresource.12
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		every_country = {
			limit = {
				has_communications = ROOT
				NOT = { is_country = ROOT }
				NOT = { ROOT = { is_overlord_to = FROM } }
				NOT = { has_policy_flag = policy_raidresource_heavy }
				NOT = {
					OR = {
						has_ethic = "ethic_militarist"
						has_ethic = "ethic_fanatic_militarist"
					}
				}
				is_country_type = default
			}
			add_opinion_modifier = { who = ROOT modifier = opinion_raidresources_3 }
		}
	}
}
##INFORM THAT U HAD BEEN RAIDED BUT NO LOSSES##
country_event = {
	id = raidresource.11
	title = raidresource.11.name
	desc = raidresource.11.desc
	picture = GFX_evt_burning_settlement
	show_sound = event_ground_battle
	location = fromfromfrom
	auto_opens = no
	
	is_triggered_only = yes
	
	option = {
		name = raidresource.11.a
	}
}

###RAIDER GET RESOURCE###
# primitive version
country_event = {
	id = raidresource.13
	title = raidresource.10.name
	desc = {
		trigger = {
			hidden:root = {
				success_text = {
					text = "raidresource.10.desc_primate"
					NOT = {
						has_policy_flag = policy_raidresource_honor
					}
				}
				success_text = {
					text = "newline"
					NOT = {
						has_policy_flag = policy_raidresource_honor
						
					}
				}
				success_text = {
					text = "raidresource.10.desc_honor"
					has_policy_flag = policy_raidresource_honor
				}
				success_text = {
					text = "raidresource.tooltip_energy"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_energy" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_minerals"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_minerals" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_food"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_food" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_goods"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_goods" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_alloys"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_alloys" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_volatile_motes"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_volatile_motes" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_rare_crystals"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_rare_crystals" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_exotic_gases"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_exotic_gases" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_living_metal"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_living_metal" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_zro"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_zro" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_dark_matter"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_dark_matter" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_nanites"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_nanites" value = 0 }
						}
					}
				}
				success_text = {
					text = "newline"
					fromfrom = {
						OR = {
							check_variable = { which = "raidresource_raid_mulitifier_phy_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_soc_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_eng_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_unity" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_influence" value > 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.10.research"
					fromfrom = {
						OR = {
							check_variable = { which = "raidresource_raid_mulitifier_phy_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_soc_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_eng_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_unity" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_influence" value > 0 }
						}
					}
				}
				success_text = {
					text = "newline"
					fromfrom = {
						OR = {
							check_variable = { which = "raidresource_raid_mulitifier_phy_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_soc_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_eng_research" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_unity" value > 0 }
							check_variable = { which = "raidresource_raid_mulitifier_influence" value > 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_phy_research"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_phy_research" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_soc_research"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_soc_research" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_eng_research"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_eng_research" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_influence"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_influence" value = 0 }
						}
					}
				}
				success_text = {
					text = "raidresource.tooltip_unity"
					NOT = {
						fromfrom = {
							check_variable = { which = "raidresource_raid_mulitifier_unity" value = 0 }
						}
					}
				}
				success_text = {
					text = "newline"
					fromfrom = {
						check_variable = { which = "raidresource_raid_mulitifier_losses_pop" value > 0 }
					}
				}
				success_text = {
					text = "raidresource.tooltip_pop"
					fromfrom = {
						check_variable = { which = "raidresource_raid_mulitifier_losses_pop" value = 1 }
					}
				}
				success_text = {
					text = "raidresource.tooltip_pops"
					fromfrom = {
						check_variable = { which = "raidresource_raid_mulitifier_losses_pop" value > 1 }
					}
				}
			}
		}
	}
	picture = GFX_evt_surrender
	show_sound = event_ground_battle
	location = fromfrom
	auto_opens = no
	
	is_triggered_only = yes

	trigger = {
		OR = {
			has_policy_flag = policy_raidresource_light
			has_policy_flag = policy_raidresource_heavy
			has_policy_flag = policy_raidresource_honor
		}
		NOT = { has_policy_flag = policy_raidresource_outlaw }
		FROM = {
			is_country_type = primitive
		}
		FROMFROM = {
			NOT = {
#				is_owned_by = root
#				root = {
#					is_same_empire = from
#				}
				OR = {
					has_modifier = raidresource_planet_get_raided
					has_modifier = raidresource_planet_get_raided_heavy
				}
			}
		}
	}
	
	immediate = {
		root = {
			save_event_target_as = raidresource_raid_empire_attacker
		}
		from = {
			save_event_target_as = raidresource_raid_empire_get_raideder
		}
		fromfrom = {
			save_event_target_as = raidresource_raid_empire_get_raided_planet
			set_variable = { which = "raidresource_raid_mulitifier_losses_pop" value = 0 }
			set_variable = { which = raidresource_raid_mulitifier_planet_pops value = 0 }
###PRESET FOR PLANET YOU RAIDED###
			set_variable = { which = "raidresource_raid_mulitifier_food" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_energy" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_minerals" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_goods" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_alloys" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_phy_research" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_soc_research" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_eng_research" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_unity" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_influence" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_volatile_motes" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_exotic_gases" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_rare_crystals" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_living_metal" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_zro" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_dark_matter" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_nanites" value = 0 }
			set_variable = { which = "raidresource_raid_mulitifier_value" value = 0.1 }
			random_list = {
				1 = {
					event_target:raidresource_raid_empire_get_raided_planet = {
						change_variable = { which = raidresource_raid_mulitifier_planet_pops value = 3 }
					}
				}
				1 = {
					event_target:raidresource_raid_empire_get_raided_planet = {
						change_variable = { which = raidresource_raid_mulitifier_planet_pops value = 6 }
					}
				}
				1 = {
					event_target:raidresource_raid_empire_get_raided_planet = {
						change_variable = { which = raidresource_raid_mulitifier_planet_pops value = 9 }
					}
				}
				1 = {
					event_target:raidresource_raid_empire_get_raided_planet = {
						change_variable = { which = raidresource_raid_mulitifier_planet_pops value = 12 }
					}
				}
				1 = {
					event_target:raidresource_raid_empire_get_raided_planet = {
						change_variable = { which = raidresource_raid_mulitifier_planet_pops value = 15 }
					}
				}
			}
			every_owned_pop = {
				if = {
					limit = {
						event_target:raidresource_raid_empire_attacker = {
							NOT = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						species = {
							OR = {
								has_trait = trait_machine_unit
								has_trait = trait_mechanical
								has_trait = trait_lithoid
							}
						}
					}
					event_target:raidresource_raid_empire_get_raided_planet = {
						change_variable = { which = "raidresource_raid_mulitifier_minerals" value = 9 }
						change_variable = { which = "raidresource_raid_mulitifier_value" value = 9 }
					}
					event_target:raidresource_raid_empire_attacker = {
						add_resource = { minerals = 9 }
					}
				}
				if = {
					limit = {
						event_target:raidresource_raid_empire_attacker = {
							NOT = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						species = {
							OR = {
								has_trait = trait_machine_unit
								has_trait = trait_mechanical
								has_trait = trait_lithoid
							}
						}
					}
					event_target:raidresource_raid_empire_get_raided_planet = {
						change_variable = { which = "raidresource_raid_mulitifier_energy" value = 9 }
						change_variable = { which = "raidresource_raid_mulitifier_value" value = 9 }
					}
					event_target:raidresource_raid_empire_attacker = {
						add_resource = { energy = 9 }
					}
				}
				if = {
					limit = {
						species = {
							NOR = {
								has_trait = trait_machine_unit
								has_trait = trait_mechanical
							}
						}
						event_target:raidresource_raid_empire_attacker = {
							NOT = {
								has_policy_flag = policy_raidresource_honor
							}
							OR = {
								NOT = {
									has_authority = auth_machine_intelligence
								}
								AND = {
									has_authority = auth_machine_intelligence
									has_civic = civic_machine_servitor
								}
							}
						}
					}
					event_target:raidresource_raid_empire_get_raided_planet = {
						change_variable = { which = "raidresource_raid_mulitifier_food" value = 10 }
						change_variable = { which = "raidresource_raid_mulitifier_value" value = 10 }
					}
					event_target:raidresource_raid_empire_attacker = {
						add_resource = { food = 10 }
					}
				}
				if = {
					limit = {
						species = {
							NOR = {
								has_trait = trait_machine_unit
								has_trait = trait_mechanical
								has_trait = trait_lithoid
							}
						}
						event_target:raidresource_raid_empire_attacker = {
							NOT = {
								has_policy_flag = policy_raidresource_honor
							}
							OR = {
								NOT = {
									has_ethic = ethic_gestalt_consciousness
								}
								AND = {
									has_ethic = ethic_gestalt_consciousness
									has_civic = civic_machine_servitor
								}
							}
						}
					}
					event_target:raidresource_raid_empire_get_raided_planet = {
						change_variable = { which = "raidresource_raid_mulitifier_goods" value = 6 }
						change_variable = { which = "raidresource_raid_mulitifier_value" value = 12 }
					}
					event_target:raidresource_raid_empire_attacker = {
						add_resource = { consumer_goods = 6 }
					}
				}
			}
			while = {
				count = raidresource_raid_mulitifier_planet_pops
				random_list = {
					10 = { 
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_energy" value = 14 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 14 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_resource = { energy = 14 }
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_minerals" value = 14 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 14 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_resource = { minerals = 14 }
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							root = {
								AND = {
									has_authority = auth_machine_intelligence
									NOR = {
										has_civic = civic_machine_servitor
										has_civic = civic_machine_assimilator
									}
								}
							}
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_food" value = 14 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 14 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_resource = { food = 14 }
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							root = {
								AND = {
									has_ethic = ethic_gestalt_consciousness
									NOT = {
										has_civic = civic_machine_servitor
									}
								}
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 10
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raideder = {
								has_country_resource = { type = consumer_goods amount < 3 }
							}	
						}
						modifier = {
							factor = 3
							event_target:raidresource_raid_empire_attacker = {
								OR = {
									has_ascension_perk = ap_nihilistic_acquisition
									has_valid_civic = civic_barbaric_despoilers
								}
							}	
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_goods" value = 3 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 6 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_resource = { consumer_goods = 3 }
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 10
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raideder = {
								has_country_resource = { type = alloys amount < 3 }
							}	
						}
						modifier = {
							factor = 3
							event_target:raidresource_raid_empire_attacker = {
								OR = {
									has_ascension_perk = ap_nihilistic_acquisition
									has_valid_civic = civic_barbaric_despoilers
								}
							}	
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_alloys" value = 3 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 8 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_resource = { alloys = 3 }
						}
					}
					10 = {
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 10
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_phy_research" value = 13 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 7 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_monthly_resource_mult = {
								resource = physics_research
								value = 1
								min = 13
								max = 13
							}
						}
					}
					10 = { 
					
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 10
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_soc_research" value = 13 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 7 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_monthly_resource_mult = {
								resource = society_research
								value = 1
								min = 13
								max = 13
							}
						}
					}
					10 = { 
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 10
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_eng_research" value = 13 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 7 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_monthly_resource_mult = {
								resource = engineering_research
								value = 1
								min = 13
								max = 13
							}
						}
					}
					10 = { 
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								has_policy_flag = policy_raidresource_honor
							}
						}
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 10
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_unity" value = 12 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 6 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_resource = { unity = 12 }
						}
					}
					10 = { 
						modifier = {
							factor = 0
							event_target:raidresource_raid_empire_attacker = {
								NOT = {
									has_policy_flag = policy_raidresource_honor
								}
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 25
							}
						}
						modifier = {
							factor = 0.5
							event_target:raidresource_raid_empire_get_raided_planet = {
								num_pops < 50
							}
						}
						event_target:raidresource_raid_empire_get_raided_planet = {
							change_variable = { which = "raidresource_raid_mulitifier_influence" value = 1 }
							change_variable = { which = "raidresource_raid_mulitifier_value" value = 5 }
						}
						event_target:raidresource_raid_empire_attacker = {
							add_resource = { influence = 1 }
						}
					}
				}
			}
		}
	}
	option = {
		name = OK
	}
}
